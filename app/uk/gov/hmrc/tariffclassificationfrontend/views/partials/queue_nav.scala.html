@*
 * Copyright 2019 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.tariffclassificationfrontend.controllers
@import uk.gov.hmrc.tariffclassificationfrontend.models.request.AuthenticatedRequest
@import uk.gov.hmrc.tariffclassificationfrontend.models.{Permission, Queue}
@(queues: Seq[Queue], section: String, caseCountByQueue: Map[String, Int] = Map.empty)(implicit request: AuthenticatedRequest[_], messages: Messages)

<div id="queue-navigation" class="side-nav" role="navigation" style="margin-top: 14px">
    <ul>
        @if(request.hasPermission(Permission.VIEW_MY_CASES)) {
            <li class="side-nav__list @if(section == "my-cases") { side-nav__list--selected }">
                <a tabindex="1000" id="nav-menu-my-cases" class="side-nav__link" href="@controllers.routes.MyCasesController.myCases()">@messages("cases.menu.my-cases") (<span id="case-count-my-cases">@caseCountByQueue.getOrElse("my-cases", "0")</span>)</a>
            </li>
        }
        @if(request.hasPermission(Permission.VIEW_QUEUE_CASES)) {
            @for((q,index) <- queues.zipWithIndex) {
                <li class="side-nav__list @if(section == q.slug) { side-nav__list--selected }">
                    <a tabindex="@{(index+2) * 1000}" id="nav-menu-queue-@q.slug" class="side-nav__link" href="@controllers.routes.QueuesController.queue(q.slug)">@messages("cases.menu.queue-cases", q.name) (<span id="case-count-@q.slug">@caseCountByQueue.getOrElse(q.id, "0")</span>)</a>
                </li>
            }
        }
        @if(request.hasPermission(Permission.VIEW_ASSIGNED_CASES)) {
            <li class="side-nav__list @if(section == "assigned-cases") { side-nav__list--selected }">
                <a tabindex="7000" id="nav-menu-assigned-cases" class="side-nav__link" href="@controllers.routes.AssignedCasesController.assignedCases()">@messages("cases.menu.assigned-cases")</a>
            </li>
        }
        @if(request.hasPermission(Permission.VIEW_REPORTS)) {
            <li  class="side-nav__list @if(section == "reports") { side-nav__list--selected }">
                <a tabindex="8000"id="nav-menu-reports" class="side-nav__link" href="@controllers.routes.ReportingController.getReports()">@messages("cases.menu.reports")</a>
            </li>
        }
    </ul>
    <br>
</div>
