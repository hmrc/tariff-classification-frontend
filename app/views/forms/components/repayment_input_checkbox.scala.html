@*
 * Copyright 2024 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import models.forms.DecisionFormData

@import views.html.forms.components.input_checkbox
@import views.html.forms.components.input_text

@(
        formData: Form[Case],
        value: Boolean = true,
)(implicit messages: Messages)

@conditionalInput = @{Html(s"""
        <div class="govuk-checkboxes__conditional govuk-checkboxes__conditional--hidden" id="conditional-dvr-number">
                ${
                    input_text(
                        field = formData("dvrNumber"),
                        label = messages("case.v2.liability.c592.details_edit.dvr_number"),
                        inputClass = Some("width-one-half"),
                        customGroupClasses = "",
                        disableAutoComplete = true
                    )
                }
        </div>
    """.stripMargin)
}

@field = @{formData("repaymentClaim")}

<div class="govuk-form-group">
    <fieldset class="govuk-fieldset" aria-describedby="repaymentClaim">

        <div class="govuk-checkboxes" data-module="govuk-checkboxes" id="repayment-claim">
            @input_checkbox(
                field = field,
                label =  "Repayment claim",
                data_target = Some("repayment-claim"),
                value = value,
                conditionalInputHtml = Some(conditionalInput)
            )
        </div>

    </fieldset>
</div>
